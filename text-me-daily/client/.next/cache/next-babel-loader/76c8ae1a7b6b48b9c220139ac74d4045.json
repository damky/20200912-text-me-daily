{"ast":null,"code":"var _jsxFileName = \"/Users/Doug/Library/Mobile Documents/com~apple~CloudDocs/Development/20200912-text-me-daily/text-me-daily/client/components/signIn.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport Btn from './btn';\nimport axios from 'axios';\nimport { Cookies } from \"react-cookie\";\nimport useSWR from 'swr';\nimport { useState } from 'react';\nimport Router from 'next/router';\nexport function ErrorMsg({\n  children\n}) {\n  return __jsx(\"div\", {\n    className: \"errorMsg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 10\n    }\n  }, children);\n}\nexport default function SignIn({\n  signin,\n  signup,\n  setNeedSignUp,\n  setCreatedUser,\n  serverUrl\n}) {\n  const {\n    0: logInError,\n    1: setLogInError\n  } = useState(false);\n\n  const createUser = values => {\n    try {\n      return fetch(serverUrl + '/api/createuser', {\n        method: \"POST\",\n        headers: {\n          'Content-type': 'application/json'\n        },\n        body: JSON.stringify(values)\n      });\n    } catch (err) {\n      if (err) console.error(err);\n    }\n  };\n\n  const logInAndSetCookies = async values => {\n    // set up cookies\n    try {\n      const cookies = new Cookies();\n      const data = await axios.post(serverUrl + '/api/login', values).then(res => res.data);\n      cookies.set('token', data.token);\n      cookies.set('refreshToken', data.refreshToken);\n      cookies.set('status', data.status);\n      Router.push('/dashboard');\n    } catch (err) {\n      console.error(err);\n      setLogInError(true);\n    }\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Formik, {\n    initialValues: {\n      email: 'doug@weomedia.com',\n      password: 'P@ssw0rd'\n    },\n    validate: values => {\n      const errors = {};\n\n      if (!values.email) {\n        errors.email = 'email required';\n      } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)) {\n        errors.email = 'Invalid email address';\n      }\n\n      if (!values.password) {\n        errors.password = 'password required';\n      } else if (signup && !/^(?=.*\\d)(?=.*[!\\\"#$%&'()*+,\\-.\\/:;<=>?@\\[\\\\\\]^_`{|}~])(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z])([a-z]|[A-Z]|[0-9]|[!\\\"#$%&'()*+,\\-.\\/:;<=>?@\\[\\\\\\]^_`{|}~]){8,}$/.test(values.password)) {\n        errors.password = ['needs to add:'];\n\n        if (!/(?=.*\\d)/.test(values.password)) {\n          errors.password.push('numbers');\n        } else {\n          errors.password = errors.password.filter(m => m !== 'numbers');\n        }\n\n        if (!/(?=.*[!\\\"#$%&'()*+,\\-.\\/:;<=>?@\\[\\\\\\]^_`{|}~])/.test(values.password)) {\n          if (errors.password.findIndex(m => m === 'special characters') === -1) {\n            errors.password.push('special characters');\n          }\n        } else {\n          errors.password = errors.password.filter(m => m !== 'special characters');\n        }\n\n        if (!/(?=.*[a-z])/.test(values.password)) {\n          errors.password.push('lowercase');\n        } else {\n          errors.password = errors.password.filter(m => m !== 'lowercase');\n        }\n\n        if (!/(?=.*[A-Z])/.test(values.password)) {\n          errors.password.push('uppercase');\n        } else {\n          errors.password = errors.password.filter(m => m !== 'uppercase');\n        }\n\n        if (!/.{8,}/.test(values.password)) {\n          errors.password.push('at least 8');\n        } else {\n          errors.password = errors.password.filter(m => m !== 'at least 8');\n        }\n\n        errors.password = errors.password.join(',');\n      }\n\n      return errors;\n    },\n    onSubmit: async (values, {\n      setSubmitting\n    }) => {\n      signin && setTimeout(async () => {\n        await logInAndSetCookies(values); // alert(JSON.stringify(values, null, 2));\n\n        setSubmitting(false);\n      }, 400);\n      signup && setTimeout(async () => {\n        await createUser(values).then(res => {\n          if (res.ok) {\n            // console.log('created');\n            // alert(JSON.stringify(values, null, 2));\n            setLogInError(false);\n            setCreatedUser(true);\n            setNeedSignUp(false);\n          }\n        }).catch(err => {\n          if (err) console.error(err);\n        });\n      }, 400);\n      setSubmitting(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, ({\n    isSubmitting\n  }) => __jsx(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }, logInError && __jsx(ErrorMsg, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 28\n    }\n  }, \"wrong email or password\"), __jsx(Field, {\n    placeholder: \"email\",\n    className: \"primary\",\n    type: \"email\",\n    name: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }), __jsx(ErrorMessage, {\n    name: \"email\",\n    render: msg => __jsx(ErrorMsg, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 55\n      }\n    }, msg),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }), __jsx(Field, {\n    placeholder: \"password\",\n    className: \"primary\",\n    type: \"password\",\n    name: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }), __jsx(ErrorMessage, {\n    name: \"password\",\n    render: msg => msg.split(',').map(m => __jsx(ErrorMsg, {\n      key: m,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 82\n      }\n    }, m)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }), __jsx(Btn, {\n    name: \"submit\",\n    primary: true,\n    submit: true,\n    disabled: isSubmitting,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, signin && 'sign in' || signup && 'sign up'), __jsx(ErrorMessage, {\n    name: \"submit\",\n    render: msg => __jsx(ErrorMessage, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 56\n      }\n    }, msg),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }))));\n}","map":{"version":3,"sources":["/Users/Doug/Library/Mobile Documents/com~apple~CloudDocs/Development/20200912-text-me-daily/text-me-daily/client/components/signIn.js"],"names":["Formik","Form","Field","ErrorMessage","Btn","axios","Cookies","useSWR","useState","Router","ErrorMsg","children","SignIn","signin","signup","setNeedSignUp","setCreatedUser","serverUrl","logInError","setLogInError","createUser","values","fetch","method","headers","body","JSON","stringify","err","console","error","logInAndSetCookies","cookies","data","post","then","res","set","token","refreshToken","status","push","email","password","errors","test","filter","m","findIndex","join","setSubmitting","setTimeout","ok","catch","isSubmitting","msg","split","map"],"mappings":"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","sourcesContent":["import { Formik, Form, Field, ErrorMessage } from 'formik'\nimport Btn from './btn';\nimport axios from 'axios';\nimport { Cookies } from \"react-cookie\";\nimport useSWR from 'swr'\nimport { useState } from 'react'\nimport Router from 'next/router';\n\nexport function ErrorMsg({ children }) {\n  return <div className=\"errorMsg\">{children}</div>\n}\n\nexport default function SignIn({ signin, signup, setNeedSignUp, setCreatedUser, serverUrl }) {\n  const [logInError, setLogInError] = useState(false);\n\n  const createUser = (values) => {\n    try {\n      return fetch(serverUrl + '/api/createuser',\n        {\n          method: \"POST\",\n          headers: {\n            'Content-type': 'application/json',\n          },\n          body: JSON.stringify(values)\n        });\n    } catch (err) {\n      if (err) console.error(err);\n    }\n  };\n\n  const logInAndSetCookies = async (values) => {\n    // set up cookies\n    try {\n      const cookies = new Cookies();\n      const data = await axios.post(serverUrl + '/api/login', values).then(res => res.data);\n      cookies.set('token', data.token);\n      cookies.set('refreshToken', data.refreshToken);\n      cookies.set('status', data.status);\n      Router.push('/dashboard');\n    } catch (err) {\n      console.error(err);\n      setLogInError(true);\n    }\n  }\n\n  return (\n    <>\n      <Formik\n        initialValues={{ email: 'doug@weomedia.com', password: 'P@ssw0rd' }}\n        validate={values => {\n          const errors = {};\n          if (!values.email) {\n            errors.email = 'email required';\n          } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)) {\n            errors.email = 'Invalid email address';\n          }\n          if (!values.password) {\n            errors.password = 'password required'\n          } else if (signup && !/^(?=.*\\d)(?=.*[!\\\"#$%&'()*+,\\-.\\/:;<=>?@\\[\\\\\\]^_`{|}~])(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z])([a-z]|[A-Z]|[0-9]|[!\\\"#$%&'()*+,\\-.\\/:;<=>?@\\[\\\\\\]^_`{|}~]){8,}$/.test(values.password)) {\n            errors.password = ['needs to add:'];\n            if (!/(?=.*\\d)/.test(values.password)) {\n              errors.password.push('numbers')\n            } else {\n              errors.password = errors.password.filter(m => m !== 'numbers');\n            }\n            if (!/(?=.*[!\\\"#$%&'()*+,\\-.\\/:;<=>?@\\[\\\\\\]^_`{|}~])/.test(values.password)) {\n              if (errors.password.findIndex(m => m === 'special characters') === -1) {\n                errors.password.push('special characters');\n              }\n            } else {\n              errors.password = errors.password.filter(m => m !== 'special characters');\n            }\n            if (!/(?=.*[a-z])/.test(values.password)) {\n              errors.password.push('lowercase')\n            } else {\n              errors.password = errors.password.filter(m => m !== 'lowercase');\n            }\n            if (!/(?=.*[A-Z])/.test(values.password)) {\n              errors.password.push('uppercase')\n            } else {\n              errors.password = errors.password.filter(m => m !== 'uppercase');\n            }\n            if (!/.{8,}/.test(values.password)) {\n              errors.password.push('at least 8')\n            } else {\n              errors.password = errors.password.filter(m => m !== 'at least 8');\n            }\n            errors.password = errors.password.join(',')\n          }\n          return errors;\n        }}\n        onSubmit={async (values, { setSubmitting }) => {\n          signin &&\n            setTimeout(async () => {\n              await logInAndSetCookies(values);\n              // alert(JSON.stringify(values, null, 2));\n\n              setSubmitting(false);\n            }, 400);\n          signup &&\n            setTimeout(async () => {\n              await createUser(values).then(res => {\n                if (res.ok) {\n                  // console.log('created');\n                  // alert(JSON.stringify(values, null, 2));\n                  setLogInError(false);\n                  setCreatedUser(true);\n                  setNeedSignUp(false);\n                }\n              }).catch(err => { if (err) console.error(err) });\n            }, 400);\n          setSubmitting(false);\n        }}\n      >\n        {({ isSubmitting }) => (\n          <Form>\n            {logInError && <ErrorMsg>wrong email or password</ErrorMsg>}\n            <Field\n              placeholder=\"email\"\n              className=\"primary\"\n              type=\"email\"\n              name=\"email\"\n            />\n            <ErrorMessage name=\"email\" render={msg => <ErrorMsg>{msg}</ErrorMsg>} />\n            <Field\n              placeholder=\"password\"\n              className=\"primary\"\n              type=\"password\"\n              name=\"password\"\n            />\n            <ErrorMessage name=\"password\" render={msg => msg.split(',').map(m => <ErrorMsg key={m}>{m}</ErrorMsg>)} />\n            <Btn name=\"submit\" primary submit disabled={isSubmitting}>\n              {signin && 'sign in' || signup && 'sign up'}\n            </Btn>\n            <ErrorMessage name=\"submit\" render={msg => <ErrorMessage>{msg}</ErrorMessage>} />\n          </Form>\n        )}\n      </Formik>\n    </>\n  )\n}\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}